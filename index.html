<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Kenangan Sekolah</title>
<style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
      color: white;
      text-align: center;
      padding: 30px 10px;
    }
    h1 {
      font-size: 3em;
      margin-bottom: 10px;
    }
    .timeline {
      text-align: left;
      max-width: 600px;
      margin: 30px auto;
      background: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 10px;
    }
    .timeline h3 {
      margin-bottom: 5px;
      color: #00e5ff;
    }
    .gallery {
      display: flex;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
      padding-bottom: 10px;
      gap: 20px;
      margin-top: 30px;
    }
    .gallery figure {
      scroll-snap-align: start;
      flex: 0 0 auto;
      margin: 0;
      cursor: pointer;
    }
    .gallery img {
      width: 220px;
      height: 220px;
      object-fit: cover;
      border-radius: 10px;
      transition: transform 0.3s;
    }
    .gallery img:hover {
      transform: scale(1.05);
    }
    figcaption {
      margin-top: 10px;
      font-size: 1.2em;
      font-weight: bold;
    }
    .quotes {
      font-style: italic;
      margin-top: 30px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    footer {
      margin-top: 50px;
      font-size: 0.9em;
      color: #a0c0d0;
    }
    /* Modal Zoom */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      justify-content: center;
      align-items: center;
    }
    .modal img {
      max-width: 95%;
      max-height: 95%;
      border-radius: 5px;
      object-fit: contain;
    }

    #welcome-screen {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: #0f2027;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 99999;
      text-align: center;
    }
    #welcome-screen h2 {
      font-size: 2em;
      margin-bottom: 20px;
      color: white;
    }
    #welcome-screen img {
      width: 220px;
      border-radius: 0;
      margin-bottom: 10px;
      box-shadow: 0 0 25px #00e5ff;
    }
    #welcome-screen p {
      margin-bottom: 20px;
      color: #c0e0f0;
    }
    #welcome-screen button {
      padding: 12px 24px;
      background: #00c3ff;
      border: none;
      color: white;
      font-size: 1em;
      border-radius: 8px;
      cursor: pointer;
    }
    .typing::after {
      content: '|';
      animation: blink 1s infinite;
    }
    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }
    #welcome-screen button:hover {
      box-shadow: 0 0 12px #00e5ff, 0 0 25px #00e5ff;
      transform: scale(1.05);
      transition: all 0.3s ease;
    }
    
    /* New Styles for Additional Features */
    #timeCapsule, #guessGame, #qrCode {
      margin: 30px auto;
      max-width: 600px;
      background: rgba(255,255,255,0.1);
      padding: 20px;
      border-radius: 10px;
    }
    
    #spotifyPlaylist {
      margin: 40px auto;
      max-width: 600px;
    }
    
    #gamePhoto {
      width: 200px;
      height: 200px;
      object-fit: cover;
      border-radius: 10px;
      margin: 10px auto;
      display: block;
    }
    
    #qrImage {
      width: 150px;
      height: 150px;
      margin: 10px;
    }
</style>
</head>
<body>

<div id="welcome-screen">
<h2 class="typing" id="typing-text"></h2>
<img alt="Pak Guru" src="https://files.catbox.moe/v0pvh6.png"/>
<p>Pak A. Hidayat, S.Pd</p>
<button onclick="startWeb()">GO</button>
</div>

<script>
  const welcomeScreen = document.getElementById('welcome-screen');
  const typingText = document.getElementById('typing-text');
  const text = "Apakah kamu ingin mengenang masa Kelas 6A?";
  let idx = 0;

  function type() {
    if (idx < text.length) {
      typingText.innerHTML += text.charAt(idx);
      idx++;
      setTimeout(type, 60);
    }
  }
  type();

  function startWeb() {
    welcomeScreen.style.display = 'none';
    const bgMusic = document.getElementById('bgMusic');
    if (bgMusic) bgMusic.play();
  }
</script>

<h1>Kenangan Sekolah</h1>
<p>Masa-masa yang tak terlupakan bersama teman dan guru</p>

<div class="timeline">
<h3>2019</h3>
<p>Masuk SD, pertama kali bertemu teman-teman luar biasa.</p>
<h3>2025</h3>
<p>Lulus dan acara perpisahan yang mengharukan.</p>
</div>

<div class="gallery">
<figure onclick="zoomImage(this)">
<img alt="Perpisahan" src="https://files.catbox.moe/igmh4e.jpg"/>
<figcaption>Foto Hari Batik</figcaption>
</figure>
<figure onclick="zoomImage(this)">
<img alt="Anjing" src="https://files.catbox.moe/yq7akp.jpg"/>
<figcaption>Foto Bukber Bareng</figcaption>
</figure>
<figure onclick="zoomImage(this)">
<img alt="Langit" src="https://files.catbox.moe/y2jahw.jpg"/>
<figcaption>Foto Di Lippo</figcaption>
</figure>
   <figure onclick="zoomImage(this)">
<img alt="Perpisahan" src="https://files.catbox.moe/utqzsk.jpg"/>
<figcaption>Foto Lagi Main Congklak</figcaption>
   </figure>
  
   <figure onclick="zoomImage(this)">
<img alt="Perpisahan" src="https://files.catbox.moe/nbqahk.jpg"/>
<figcaption>Foto Pesantren Kilat</figcaption>
   </figure>
<figure>
<video controls="" width="220">
<source src="https://files.catbox.moe/kpr8g1.mp4" type="video/mp4"/>
    Browser kamu tidak mendukung video.
  </video>
<figcaption>Video Kenangan SD</figcaption>
</figure>
</div>

<div class="quotes">
<p>"Tertawa di bangku belakang itu priceless."</p>
<p>"Waktu sekolah singkat, tapi kenangannya selamanya."</p>
<p>"Terima kasih telah menjadi bagian dari ceritaku."</p>

<div id="guestbook" style="margin-top: 40px; max-width: 600px; margin-left: auto; margin-right: auto;">
  <h2>Buku Kenangan</h2>
  <p>Tulis pesan untuk teman-teman atau gurumu:</p>
  <input type="text" id="guestName" placeholder="Nama Kamu" style="padding: 10px; width: 90%; margin-bottom: 10px; border-radius: 8px; border: none;"><br>
  <textarea id="guestMessage" placeholder="Pesan kenangan..." rows="4" style="padding: 10px; width: 90%; border-radius: 8px; border: none;"></textarea><br>
  <button onclick="addMessage()" style="margin-top: 10px; padding: 10px 20px; border: none; border-radius: 8px; background-color: #00c3ff; color: white; cursor: pointer;">Kirim</button>
  <div id="messageList" style="margin-top: 30px; text-align: left;"></div>
</div>

<!-- NEW FEATURES ADDED HERE -->

<div id="timeCapsule">
  <h3>üï∞Ô∏è Time Capsule</h3>
  <p>Tulis pesan untuk masa depan:</p>
  <input type="date" id="capsuleDate" style="padding: 10px; width: 90%; margin-bottom: 10px; border-radius: 8px; border: none;">
  <textarea id="capsuleMessage" placeholder="Apa yang ingin kamu sampaikan ke diri sendiri/teman di masa depan?" rows="3" style="padding: 10px; width: 90%; border-radius: 8px; border: none;"></textarea>
  <button onclick="saveTimeCapsule()" style="margin-top: 10px; padding: 10px 20px; background: #00c3ff; color: white; border: none; border-radius: 8px; cursor: pointer;">Simpan</button>
</div>

<div id="guessGame">
  <h3>üéÆ Guess Who?</h3>
  <p>Tebak siapa ini berdasarkan foto masa kecil!</p>
  <img id="gamePhoto" src="" style="width: 200px; height: 200px; object-fit: cover; border-radius: 10px; margin: 10px auto; display: block;">
  <input type="text" id="guessInput" placeholder="Nama temanmu..." style="padding: 8px; width: 80%; margin: 10px 0; border-radius: 5px; border: none;">
  <button onclick="checkGuess()" style="padding: 8px 15px; background: #ff6b6b; color: white; border: none; border-radius: 5px; cursor: pointer;">Submit</button>
  <p id="gameResult" style="font-weight: bold; margin-top: 10px;"></p>
</div>

<div id="spotifyPlaylist">
  <h3>üéµ Lagu Hits Angkatan Kita</h3>
  <iframe src="https://open.spotify.com/embed/playlist/37i9dQZF1DXcBWIGoYBM5M" width="100%" height="380" frameborder="0" allowtransparency="true" allow="encrypted-media" style="border-radius: 12px;"></iframe>
</div>

<div id="qrCode">
  <h3>üì± Scan QR Ini untuk Share Kenangan!</h3>
  <div id="qrImage" style="width: 150px; height: 150px; margin: 10px auto;"></div>
  <button onclick="generateQR()" style="padding: 8px 15px; background: #00c3ff; color: white; border: none; border-radius: 5px; cursor: pointer;">Generate QR</button>
</div>

<!-- END OF NEW FEATURES -->

<div class="modal" id="imageModal" onclick="this.style.display='none'">
<img alt="Zoomed Image" id="modalImage" src=""/>
</div>

<footer>
    Dibuat dengan kenangan oleh Kamu - Class of 2019
</footer>

<script>
    function zoomImage(element) {
      var src = element.querySelector('img').src;
      var modal = document.getElementById('imageModal');
      var modalImg = document.getElementById('modalImage');
      modalImg.src = src;
      modal.style.display = "flex";
    }
</script>

<!-- Musik Sedih + Tombol -->
<audio id="bgMusic" loop="" src="https://files.catbox.moe/m051mg.mp3"></audio>
<button id="musicBtn" onclick="toggleMusic()" style="
  position: fixed;
  bottom: 20px;
  right: 20px;
  background-color: rgba(255,255,255,0.1);
  color: white;
  border: none;
  padding: 10px 15px;
  border-radius: 10px;
  cursor: pointer;
  font-weight: bold;
  backdrop-filter: blur(5px);
  z-index: 9999;
">Play Musik</button>

<script>
  const music = document.getElementById("bgMusic");
  const btn = document.getElementById("musicBtn");

  function toggleMusic() {
    if (music.paused) {
      music.play();
      btn.textContent = "Pause Musik";
    } else {
      music.pause();
      btn.textContent = "Play Musik";
    }
  }
</script>

<script>
  // Fungsi untuk memuat pesan saat halaman dimuat
  function loadMessages() {
    const messages = JSON.parse(localStorage.getItem('guestbookMessages')) || [];
    const list = document.getElementById("messageList");
    
    messages.forEach(msg => {
      const msgBox = document.createElement("div");
      msgBox.style.marginBottom = "20px";
      msgBox.style.padding = "10px";
      msgBox.style.background = "rgba(255,255,255,0.1)";
      msgBox.style.borderRadius = "8px";
      msgBox.innerHTML = `<strong>${msg.name}</strong><p>${msg.message}</p>`;
      list.appendChild(msgBox);
    });
  }

  // Fungsi untuk menambahkan pesan baru
  function addMessage() {
    const name = document.getElementById("guestName").value.trim();
    const message = document.getElementById("guestMessage").value.trim();
    
    if (!name || !message) {
      alert("Isi nama dan pesan dulu ya!");
      return;
    }

    // Ambil pesan yang sudah ada
    const messages = JSON.parse(localStorage.getItem('guestbookMessages')) || [];
    
    // Tambahkan pesan baru
    messages.unshift({name, message});
    
    // Simpan kembali ke localStorage
    localStorage.setItem('guestbookMessages', JSON.stringify(messages));

    // Tampilkan pesan
    const list = document.getElementById("messageList");
    const msgBox = document.createElement("div");
    msgBox.style.marginBottom = "20px";
    msgBox.style.padding = "10px";
    msgBox.style.background = "rgba(255,255,255,0.1)";
    msgBox.style.borderRadius = "8px";
    msgBox.innerHTML = `<strong>${name}</strong><p>${message}</p>`;
    list.prepend(msgBox);

    // Kosongkan form
    document.getElementById("guestName").value = "";
    document.getElementById("guestMessage").value = "";
  }

  // NEW FUNCTIONS FOR ADDED FEATURES
  
  // Time Capsule Functionality
  function saveTimeCapsule() {
    const date = document.getElementById("capsuleDate").value;
    const message = document.getElementById("capsuleMessage").value;
    
    if (!date || !message) {
      alert("Isi tanggal dan pesan dulu!");
      return;
    }

    const capsules = JSON.parse(localStorage.getItem('timeCapsules')) || [];
    capsules.push({ date, message });
    localStorage.setItem('timeCapsules', JSON.stringify(capsules));
    
    alert(`Pesan disimpan! Akan terbuka pada ${new Date(date).toLocaleDateString()}.`);
    document.getElementById("capsuleMessage").value = "";
  }

  function checkCapsules() {
    const capsules = JSON.parse(localStorage.getItem('timeCapsules')) || [];
    const today = new Date().toISOString().split('T')[0];
    
    capsules.forEach((capsule, index) => {
      if (capsule.date <= today) {
        alert(`üìú Pesan Time Capsule:\n\n${capsule.message}`);
        capsules.splice(index, 1);
        localStorage.setItem('timeCapsules', JSON.stringify(capsules));
      }
    });
  }

  // Guess Who Game
  const photos = [
    { src: "https://files.catbox.moe/igmh4e.jpg", answer: "Budi" },
    { src: "https://files.catbox.moe/yq7akp.jpg", answer: "Ani" }
  ];
  let currentPhoto = 0;

  function loadGame() {
    document.getElementById("gamePhoto").src = photos[currentPhoto].src;
  }

  function checkGuess() {
    const guess = document.getElementById("guessInput").value.trim();
    const answer = photos[currentPhoto].answer;
    const result = document.getElementById("gameResult");
    
    if (guess.toLowerCase() === answer.toLowerCase()) {
      result.textContent = "Benar! Ini foto " + answer + " waktu kecil!";
      result.style.color = "#00ff88";
      // Move to next photo
      currentPhoto = (currentPhoto + 1) % photos.length;
      setTimeout(() => {
        loadGame();
        document.getElementById("guessInput").value = "";
        result.textContent = "";
      }, 1500);
    } else {
      result.textContent = "Salah! Coba lagi...";
      result.style.color = "#ff6b6b";
    }
  }

  // QR Code Generator
  function generateQR() {
    const qrDiv = document.getElementById("qrImage");
    qrDiv.innerHTML = ""; // Clear previous QR code
    const qr = new QRCode(qrDiv, {
      text: window.location.href,
      width: 150,
      height: 150
    });
  }

  // Panggil fungsi saat halaman dimuat
  window.onload = function() {
    loadMessages();
    loadGame();
    checkCapsules();
  };
</script>

<!-- Include required libraries -->
<script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0/dist/confetti.browser.min.js"></script>
<!-- Tombol QRIS Mengambang -->
<a href="https://qris.zone.id/kandi" target="_blank" title="Dukung lewat QRIS" id="qrisButton" style="
  position: fixed;
  bottom: 90px;
  right: 20px;
  z-index: 10000;
  background-color: white;
  padding: 10px;
  border-radius: 50%;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
  display: flex;
  align-items: center;
  justify-content: center;
">
  <img src="https://files.catbox.moe/ietdwl.jpg" alt="QRIS" style="width: 28px; height: 28px;" />
</a>

</body>
     </html>
